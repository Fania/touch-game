<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game</title>
  <style>
    #story {
      padding: 10px;
      height: 500px;
      position: relative;
    }

    [id^="polaroid"] {
      display: inline-block;
      background: beige;
      padding: 20px;
      box-shadow: 10px 10px 10px gray;
      position: absolute;
    }

    [id^="polaroid"] img {
      width: 300px;
      height: 300px;
      border: 1px solid white;
      overflow: hidden;
      object-fit: cover;
    }

    [id^="polaroid"] figcaption {
      text-align: center;
      margin: 20px 0;
      font-size: 2em;
      font-family: 'Permanent Marker', cursive;
    }

    .rotate-left {
      transform: rotate(30deg) scale(0.8);
      transition: 1s;
      margin-left: 400px;
    /*   cursor: e-resize; */
      opacity: 0;
      z-index: 10;
    }
    .rotate-right {
      transform: rotate(-30deg) scale(0.8);
      transition: 1s;
      opacity: 0;
      margin-left: -400px;
    /*   cursor: w-resize; */
      z-index: 10;
    }


    @import url('https://fonts.googleapis.com/css?family=Permanent+Marker');
  </style>
</head>
<body>
  
  <section id="story">

    <!-- NOTE REVERSE ORDER OF POLAROIDS -->

    <figure id="polaroid8">
      <img src="https://images.unsplash.com/photo-1439853949127-fa647821eba0?ixlib=rb-0.3.5&q=85&fm=jpg&crop=entropy&cs=srgb&ixid=eyJhcHBfaWQiOjE0NTg5fQ&s=eb9893e527fa8cd97cb29e216b7da793">
      <figcaption>8. Mountains</figcaption>
    </figure>

    <figure id="polaroid7">
      <img src="https://images.unsplash.com/photo-1439853949127-fa647821eba0?ixlib=rb-0.3.5&q=85&fm=jpg&crop=entropy&cs=srgb&ixid=eyJhcHBfaWQiOjE0NTg5fQ&s=eb9893e527fa8cd97cb29e216b7da793">
      <figcaption>7. Mountains</figcaption>
    </figure>

    <figure id="polaroid6">
      <img src="https://images.unsplash.com/photo-1552313197-93bc4445c270?ixlib=rb-1.2.1&q=85&fm=jpg&crop=entropy&cs=srgb&ixid=eyJhcHBfaWQiOjE0NTg5fQ">
      <figcaption>6. City</figcaption>
    </figure>

    <figure id="polaroid5">
      <img src="https://images.unsplash.com/photo-1503435980610-a51f3ddfee50?ixlib=rb-1.2.1&q=85&fm=jpg&crop=entropy&cs=srgb&ixid=eyJhcHBfaWQiOjE0NTg5fQ">
      <figcaption>5. Forest</figcaption>
    </figure>

    <figure id="polaroid4">
      <img src="https://images.unsplash.com/photo-1439853949127-fa647821eba0?ixlib=rb-0.3.5&q=85&fm=jpg&crop=entropy&cs=srgb&ixid=eyJhcHBfaWQiOjE0NTg5fQ&s=eb9893e527fa8cd97cb29e216b7da793">
      <figcaption>4. Mountains</figcaption>
    </figure>

    <figure id="polaroid3">
      <img src="https://images.unsplash.com/photo-1439853949127-fa647821eba0?ixlib=rb-0.3.5&q=85&fm=jpg&crop=entropy&cs=srgb&ixid=eyJhcHBfaWQiOjE0NTg5fQ&s=eb9893e527fa8cd97cb29e216b7da793">
      <figcaption>3. Mountains</figcaption>
    </figure>

    <figure id="polaroid2">
      <img src="https://images.unsplash.com/photo-1552313197-93bc4445c270?ixlib=rb-1.2.1&q=85&fm=jpg&crop=entropy&cs=srgb&ixid=eyJhcHBfaWQiOjE0NTg5fQ">
      <figcaption>2. City</figcaption>
    </figure>

    <figure id="polaroid1">
      <img src="https://images.unsplash.com/photo-1503435980610-a51f3ddfee50?ixlib=rb-1.2.1&q=85&fm=jpg&crop=entropy&cs=srgb&ixid=eyJhcHBfaWQiOjE0NTg5fQ">
      <figcaption>1. Forest</figcaption>
    </figure>
    
  </section>



<script src="https://hammerjs.github.io/dist/hammer.min.js"></script>
<script>

const polas = document.querySelectorAll("[id^='polaroid']");

// const rev = polas.reverse();
// console.log(rev);

const next = (ev, dir, n) => {
  console.log(ev, dir, n);
}


for (let i=0; i < polas.length; i++) {
  const mc = new Hammer(polas[i]);
  const cap = document.querySelector(`figure#${polas[i].id} figcaption`);

  mc.on("swipeleft", (ev) => {
    cap.innerText = ev.type;
    polas[i].classList.add("rotate-right");
  });
  mc.on("swiperight", (ev) => {
    cap.innerText = ev.type;
    polas[i].classList.add("rotate-left");
  });
  // mc.on("tap", (ev) => {
  //   next(ev, "left", i+1);
  // });
  
  // switch(i % 2 == 0) {
  //   case true:
  //     cap.innerText = "even";
  //     break;
  //   case false:
  //     cap.innerText = "odd";
  //     break;
  //   default:
  //     cap.innerText = "default";
  // }
}

</script>

<!-- https://codepen.io/developingidea/pen/meAIn -->

</body>
</html>